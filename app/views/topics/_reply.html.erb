<div class="replies d-flex justify-content-end" data-toggle-target="replies">
  <% comment.comments.each do |comment| %>
    <div class="sub-comment border-bottom border-3 my-3 d-flex flex-column" data-controller="vote" data-vote-id="<%= comment.id %>">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center">
          <% if comment.user.photo.present? %>
            <%= cl_image_tag comment.user.photo.key, style: "width: 20px; height: 20px; object-fit: cover; border-radius: 50%; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); outline: 2px solid #d4c1a9;" %>
          <% else %>
            <%= image_tag "https://static.vecteezy.com/system/resources/previews/009/292/244/non_2x/default-avatar-icon-of-social-media-user-vector.jpg", style: "width: 35px; height: 35px; object-fit: cover; border-radius: 50%; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); outline: 2px solid #d4c1a9;" %>
          <% end %>
          <p class="username ms-2 d-flex"><%= comment.user.name %></p>
          <p class="mb-0"><%= comment.content %></p>
        </div>
      </div>
    </div>
  <% end %>
  <!-- Add a Comment Bar -->
  <div class="add-comment-bar d-flex align-items-center mt-3 p-3 border-top">
    <form action="<%= create_reply_path %>" method="POST" class="d-flex w-100">
      <%= hidden_field_tag :parent_id, comment.id %>
      <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
      <input type="text" name="content" class="form-control me-2" placeholder="Add a comment..." required>
      <button type="submit" class="btn btn-primary">Post</button>
    </form>
  </div>
</div>
